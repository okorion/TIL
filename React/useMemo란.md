# ğŸ“‹ useMemoë€?

`useMemo`ëŠ” ë¦¬ì•¡íŠ¸ì—ì„œ ì»´í¬ë„ŒíŠ¸ì˜ ì„±ëŠ¥ì„ ìµœì í™” í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” í›…ì´ë‹¤.

`useMemo`ì—ì„œ memoëŠ” **memoization**ì„ ëœ»í•˜ëŠ”ë° ì´ëŠ” ê·¸ëŒ€ë¡œ í•´ì„í•˜ë©´ **â€˜ë©”ëª¨ë¦¬ì— ë„£ê¸°â€™**ë¼ëŠ” ì˜ë¯¸ì´ë©° ì»´í“¨í„° í”„ë¡œê·¸ë¨ì´ ë™ì¼í•œ ê³„ì‚°ì„ ë°˜ë³µí•´ì•¼ í•  ë•Œ, ì´ì „ì— ê³„ì‚°í•œ ê°’ì„ ë©”ëª¨ë¦¬ì— ì €ì¥í•¨ìœ¼ë¡œì¨ ë™ì¼í•œ ê³„ì‚°ì˜ ë°˜ë³µ ìˆ˜í–‰ì„ ì œê±°í•˜ì—¬ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì†ë„ë¥¼ ë¹ ë¥´ê²Œ í•˜ëŠ” ê¸°ìˆ ì´ë‹¤.

ì‰½ê²Œ ë§í•´ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë°˜ë³µì ìœ¼ë¡œ í˜¸ì¶œí•´ì•¼í•œë‹¤ë©´ ì²˜ìŒ ê°’ì„ ê³„ì‚°í•  ë•Œ í•´ë‹¹ ê°’ì„ ë©”ëª¨ë¦¬ì— ì €ì¥í•´ í•„ìš”í•  ë•Œë§ˆë‹¤ ë‹¤ì‹œ ê³„ì‚°í•˜ì§€ ì•Šê³  ë©”ëª¨ë¦¬ì—ì„œ êº¼ë‚´ì„œ ì¬ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

ë¦¬ì•¡íŠ¸ì—ì„œ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ëŠ” ë Œë”ë§ => ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ í˜¸ì¶œ => ëª¨ë“  ë‚´ë¶€ ë³€ìˆ˜ ì´ˆê¸°í™”ì˜ ìˆœì„œë¥¼ ê±°ì¹œë‹¤.

ì˜ˆì‹œì™€ í•¨ê»˜ ì‚´í´ë³´ì.

```jsx
function Component() {
    const value = calculate();
    return <div>{value}</div> 
}

function calculate() {
    return 10;
}
```

ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ë  ë•Œë§ˆë‹¤ valueë¼ëŠ” ë³€ìˆ˜ê°€ ì´ˆê¸°í™”ëœë‹¤.
ì¦‰, ë Œë”ë§ ë  ë•Œë§ˆë‹¤ calculate í•¨ìˆ˜ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ì¬í˜¸ì¶œëœë‹¤ëŠ” ê²ƒì¸ë° ë§Œì•½ calculateê°€ ë¬´ê²ê³  ë³µì¡í•œ í•¨ìˆ˜ë¼ë©´ ë§¤ìš° ë¹„íš¨ìœ¨ì ì¼ ê²ƒì´ë‹¤.

ë•Œë¬¸ì— ìš°ë¦¬ëŠ” `useMemo` í›…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì¸ë° `useMemo`ë¥¼ ì‚¬ìš©í•˜ë©´ ë Œë”ë§ => ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ í˜¸ì¶œ => memoizeëœ í•¨ìˆ˜ ì¬ì‚¬ìš©í•˜ëŠ” ìˆœì„œë¥¼ ê±°ì¹œë‹¤.

ì´ë ‡ê²Œ ë˜ë©´ calculate í•¨ìˆ˜ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ì‹¤í–‰í•  í•„ìš”ê°€ ì—†ê²Œ ëœë‹¤.
`useMemo`ëŠ” ìœ„ì— ë§í–ˆë“¯ì´ ì²˜ìŒì— ê³„ì‚°ëœ ê°’ì„ ë©”ëª¨ë¦¬ì— ì €ì¥í•´ ì»´í¬ë„ŒíŠ¸ê°€ ê³„ì† ë Œë”ë§ë˜ì–´ë„ calculateë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•˜ì§€ ì•Šê³  ë©”ëª¨ë¦¬ì— ì €ì¥ë˜ì–´ìˆëŠ” ê³„ì‚°ëœ ê°’ì„ ê°€ì ¸ì™€ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

------

## ğŸ“Œ 1. useMemoì˜ êµ¬ì¡°

```jsx
const value = useMemo(() => {
    return calculate();
},[item])
```

`useMemo`ëŠ” `useEffect`ì²˜ëŸ¼ ì²« ë²ˆì§¸ ì¸ìë¡œ ì½œë°± í•¨ìˆ˜, ë‘ ë²ˆì§¸ ì¸ìë¡œ ì˜ì¡´ì„± ë°°ì—´(dependancyArray)ì„ ë°›ëŠ”ë‹¤.

ì˜ì¡´ì„± ë°°ì—´ ì•ˆì—ìˆëŠ” ê°’ì´ ì—…ë°ì´íŠ¸ ë  ë•Œì—ë§Œ ì½œë°± í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•˜ì—¬ ë©”ëª¨ë¦¬ì— ì €ì¥ëœ ê°’ì„ ì—…ë°ì´íŠ¸ í•´ì¤€ë‹¤.

ë§Œì•½ ë¹ˆ ë°°ì—´ì„ ë„£ëŠ”ë‹¤ë©´ `useEffect`ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë§ˆìš´íŠ¸ ë  ë•Œì—ë§Œ ê°’ì„ ê³„ì‚°í•˜ê³  ê·¸ ì´í›„ë¡  ê³„ì† memoizationëœ ê°’ì„ êº¼ë‚´ì™€ ì‚¬ìš©í•œë‹¤.

------

## ğŸ“Œ 2. useMemo ì˜ˆì œ 1

```jsx
import { useState } from "react";
 
const hardCalculate = (number) => {
  console.log("ì–´ë ¤ìš´ ê³„ì‚°!");
  for (let i = 0; i < 99999999; i++) {} // ìƒê°í•˜ëŠ” ì‹œê°„
  return number + 10000;
};

const easyCalculate = (number) => {
  console.log("ì‰¬ìš´ ê³„ì‚°!");
  return number + 1;
};

function App() {
  const [hardNumber, setHardNumber] = useState(1);
  const [easyNumber, setEasyNumber] = useState(1);

  const hardSum = hardCalculate(hardNumber);
  const easySum = easyCalculate(easyNumber);

  return (
    <div>
      <h3>ì–´ë ¤ìš´ ê³„ì‚°ê¸°</h3>
      <input
        type="number"
        value={hardNumber}
        onChange={(e) => setHardNumber(parseInt(e.target.value))}
      />
      <span> + 10000 = {hardSum}</span>
      
      
      <h3>ì‰¬ìš´ ê³„ì‚°ê¸°</h3>
      <input
        type="number"
        value={easyNumber}
        onChange={(e) => setEasyNumber(parseInt(e.target.value))}
      />
      <span> + 1 = {easySum}</span>
    </div>
  );
}

export default App;
```

ìœ„ ì˜ˆì œì—” ì–´ë ¤ìš´ ê³„ì‚°ê¸°ì™€ ì‰¬ìš´ ê³„ì‚°ê¸°ê°€ ìˆë‹¤.

ì–´ë ¤ìš´ ê³„ì‚°ê¸°ëŠ” ë°˜ë³µë¬¸ì„ 99999999ë²ˆ ëŒë¦¬ê³  ê°’ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ìˆ«ìë¥¼ ë³€ê²½í•˜ë©´ ëˆ„ë¥´ë©´ 1ì´ˆ ì •ë„ì˜ ë”œë ˆì´ë¥¼ ê±°ì¹œ í›„ ê°’ì´ ë³€ê²½ëœë‹¤.

ì‹¬ì§€ì–´ **ì‰¬ìš´ ê³„ì‚°ê¸°ì˜ ê°’ì„ ë³€ê²½í•´ë„ 1ì´ˆ ì •ë„ì˜ ë”œë ˆì´ë¥¼ ê±°ì¹œ í›„ ê°’ì´ ë³€ê²½**ëœë‹¤.

ê·¸ ì´ìœ ëŠ” ì‰¬ìš´ ê³„ì‚°ê¸°ì˜ inputê°’ì„ ë³€ê²½í•˜ë©´ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì¸ Appì´ ë¦¬ë Œë”ë§ë˜ëŠ”ë° ì´ ë•Œ, ìœ„ì—ì„œ ë§í–ˆë“¯ ë‚´ë¶€ì˜ ë³€ìˆ˜ë“¤ì´ ì´ˆê¸°í™”ë˜ê¸° ë•Œë¬¸ì— hardCalculateê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

ê·¸ë ‡ë‹¤ë©´ ì´ì œ `useMemo`ë¥¼ í†µí•´ ì´ë¥¼ ë°©ì§€í•´ë³´ì.

```jsx
 const hardSum = useMemo(() => {
    return hardCalculate(hardNumber);
  }, [hardNumber]);
  const easySum = easyCalculate(easyNumber);
```

ì´ì²˜ëŸ¼ `useMemo`ì˜ ì²« ë²ˆì§¸ ì¸ìë¡œ ì½œë°± í•¨ìˆ˜ë¥¼ ë„£ê³ , ì˜ì¡´ì„± ë°°ì—´ ì•ˆì— hardNumberë¥¼ ë„£ì–´ hardNumber ê°’ì´ ë³€ê²½ë  ë•Œì—ë§Œ ì½œë°±í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê²Œ í•˜ë©´ ëœë‹¤.

í•˜ì§€ë§Œ ë¦¬ì•¡íŠ¸ì—ì„œ `useMemo`ê°€ ì •ë§ ë¹›ì„ ë°œí•˜ëŠ” ìƒí™©ì€ ë”°ë¡œìˆë‹¤.
ë‹¤ìŒ ì˜ˆì œë¥¼ í†µí•´ í•¨ê»˜ ì‚´í´ë³´ì.

------

## ğŸ“Œ 3. useMemo ì˜ˆì œ 2


(ì¢Œì¸¡ ë°”ë¥¼ ë•¡ê²¨ ì½”ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)

`useEffect`ì˜ ì˜ì¡´ì„± ë°°ì—´ì— locationì„ ë„£ì—ˆëŠ”ë° number stateë¥¼ ë³€ê²½í•´ë„ useEffectê°€ ì‹¤í–‰ëœë‹¤.

ê·¸ ì´ìœ ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ê°ì²´ëŠ” ì›ì‹œ íƒ€ì…ê³¼ëŠ” ë‹¤ë¥´ê²Œ ê°’ì´ ì €ì¥ë  ë•Œ ì£¼ì†Œ ê°’ìœ¼ë¡œ ì €ì¥ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë¦¬ì•¡íŠ¸ì—ì„  number stateê°€ ë°”ë€Œë©´ App ì»´í¬ë„ŒíŠ¸ê°€ ì¬í˜¸ì¶œë˜ë©´ì„œ locationì˜ ì£¼ì†Œê°’ì´ ë³€ê²½ì´ ë˜ì—ˆê¸° ë•Œë¬¸ì— locationì´ ë³€ê²½ì´ ë˜ì—ˆë‹¤ê³  ì¸ì‹ì„ í•œë‹¤.

ì—¬ê¸°ì„œë„ `useMemo` í›…ì„ í†µí•´ ì´ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.

ìœ„ ì‹ì—ì„œ ì£¼ì„ì„ í†µí•´ 1ë²ˆ locationê³¼ 2ë²ˆ locationì„ êµ¬ë¶„í•´ë†¨ìœ¼ë‹ˆ ë‘ê°œë¥¼ ë²ˆê°ˆì•„ê°€ë©° ì‚¬ìš©í•´ë³´ë©´ ì–´ë–¤ ì°¨ì´ê°€ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.



<br>

<br>

#### ì°¸ê³ ë§í¬: [[React\] useMemoë€? (velog.io)](https://velog.io/@jinyoung985/React-useMemoë€)

<br>