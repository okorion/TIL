## ğŸš² ë¦¬ì•¡íŠ¸ ë¼ì´í”„ì‚¬ì´í´(life cycle) ìˆœì„œ, ì—­í• , Hook

# 1ï¸âƒ£ ë¦¬ì•¡íŠ¸ì˜ ìƒëª…ì£¼ê¸°

![img](https://velog.velcdn.com/images%2Fminbr0ther%2Fpost%2F7f8ed738-2f24-46bd-ab9f-2c7e7d7976e2%2FUntitled-3.png)

ì»´í¬ë„ŒíŠ¸ëŠ” ìƒì„±(mounting) -> ì—…ë°ì´íŠ¸(updating) -> ì œê±°(unmounting)ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ê°–ìŠµë‹ˆë‹¤.

ë¦¬ì•¡íŠ¸ í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ëŠ” ë¼ì´í”„ ì‚¬ì´í´ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê³ , í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ëŠ” Hookì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

## 1.1. Class Componet ìƒëª…ì£¼ê¸°

### ğŸ‘€ ë§ˆìš´íŠ¸(mount)

ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„± ë ë•Œ ë°œìƒí•˜ëŠ” ìƒëª…ì£¼ê¸°ë“¤ì„ ì•Œì•„ë´…ì‹œë‹¤.

#### â˜‘ï¸ constructor

ì»´í¬ë„ŒíŠ¸ ìƒì„±ì ë©”ì„œë“œ, ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë˜ë©´ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œ
this.props, this.stateì— ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ê³  ë¦¬ì•¡íŠ¸ ìš”ì†Œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

#### â˜‘ï¸ getDerivedStateFromProps

propsë¡œë¶€í„° íŒŒìƒëœ stateë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. ì¦‰ propsë¡œ ë°›ì•„ì˜¨ ê²ƒì„ stateì— ë„£ì–´ì£¼ê³  ì‹¶ì„ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

#### â˜‘ï¸ render

ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.

#### â˜‘ï¸ componentDidMount

ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ ë¨, ì¦‰ ì»´í¬ë„ŒíŠ¸ì˜ ì²«ë²ˆì§¸ ë Œë”ë§ì´ ë§ˆì¹˜ë©´ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ ì…ë‹ˆë‹¤.
ì´ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ëŠ” ì‹œì ì—ëŠ” í™”ë©´ì— ì»´í¬ë„ŒíŠ¸ê°€ ë‚˜íƒ€ë‚œ ìƒíƒœì…ë‹ˆë‹¤.
ì—¬ê¸°ì„œëŠ” ì£¼ë¡œ DOMì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—°ë™, í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•„ìš”ë¡œí•˜ëŠ” ë°ì´í„°ë¥¼ ajaxë¡œ ìš”ì²­, ë“±ì˜ í–‰ìœ„ë¥¼ í•©ë‹ˆë‹¤.

```jsx
useEffect(()=>{
	console.log("componentDidMount");     
},[])
```

### ğŸ‘€ ì—…ë°ì´íŠ¸(updating)

ì»´í¬ë„ŒíŠ¸ê°€ ì—…ë°ì´íŠ¸ë˜ëŠ” ì‹œì ì— ì–´ë–¤ ìƒëª…ì£¼ê¸° ë©”ì„œë“œë“¤ì´ í˜¸ì¶œë˜ëŠ”ì§€ ì•Œì•„ë´…ë‹ˆë‹¤.

#### â˜‘ï¸ getDerivedStateFromProps

ì»´í¬ë„ŒíŠ¸ì˜ propsë‚˜ stateê°€ ë°”ë€Œì—ˆì„ë•Œë„ ì´ ë©”ì„œë“œê°€ í˜¸ì¶œë©ë‹ˆë‹¤.

#### â˜‘ï¸ shouldComponentUpdate

ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ í• ì§€ ë§ì§€ë¥¼ ê²°ì •í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.

- `React.memo`ì™€ ìœ ì‚¬í•¨, boolean ë°˜í™˜ìœ¼ë¡œ ê²°ì •

#### â˜‘ï¸ componentDidUpdate

ì»´í¬ë„ŒíŠ¸ê°€ ì—…ë°ì´íŠ¸ ë˜ê³  ë‚œ í›„ ë°œìƒí•©ë‹ˆë‹¤.

- ì˜ì¡´ì„± ë°°ì—´ì´ ë³€í• ë•Œë§Œ useEffectê°€ ì‹¤í–‰í•˜ëŠ” ê²ƒê³¼ ê°™ìŒ

```jsx
useEffect(() => {
	console.log("count or exampleProp changed");     
},[count, exampleProp]);
```

### ğŸ‘€ ì–¸ë§ˆìš´íŠ¸(unmount)

ì–¸ë§ˆìš´íŠ¸ë¼ëŠ” ê²ƒì€ ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì–¸ë§ˆìš´íŠ¸ì— ê´€ë ¨ëœ ìƒëª…ì£¼ê¸° ë©”ì„œë“œëŠ” `componentWillUnmount` í•˜ë‚˜ì…ë‹ˆë‹¤.

#### â˜‘ï¸ componentWillUnmount

ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ê¸° ì§ì „ì— í˜¸ì¶œë©ë‹ˆë‹¤.
ì—¬ê¸°ì„œ ì£¼ë¡œ DOMì— ì§ì ‘ ë“±ë¡í–ˆì—ˆë˜ ì´ë²¤íŠ¸ë¥¼ ì œê±°í•˜ê³ , ë§Œì•½ì— `setTimeout`ì„ ê±¸ì€ ê²ƒì´ ìˆë‹¤ë©´ `clearTimeout`ì„ í†µí•˜ì—¬ ì œê±°ë¥¼ í•©ë‹ˆë‹¤.
ì¶”ê°€ì ìœ¼ë¡œ, ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œê²Œ ìˆê³  í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— disposeê¸°ëŠ¥ì´ ìˆë‹¤ë©´ ì—¬ê¸°ì„œ í˜¸ì¶œí•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.

```jsx
useEffect(()=>{
	console.log("");     
    return(() => exampleAPI.unsubscribe());
})
```

# 1.2. Functional Componet ìƒëª…ì£¼ê¸°

ë¦¬ì•¡íŠ¸ì—ì„œ Hookì€ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ React stateì™€ ìƒëª…ì£¼ê¸° ê¸°ëŠ¥ì„ ì—°ë™ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
Hookì€ class ì•ˆì—ì„œëŠ” ë™ì‘í•˜ì§€ ì•Šê³ , classì—†ì´ Reactë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

## ğŸ‘€ ë¦¬ì•¡íŠ¸ í›…ì„ ë„ì…í•œ ëª©ì 

- ê¸°ì¡´ì˜ ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œ ê¸°ë°˜ì´ ì•„ë‹Œ ë¡œì§ ê¸°ë°˜ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆì–´ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ í•¨ìˆ˜ ë‹¨ìœ„ë¡œ ì˜ê²Œ ìª¼ê°¤ ìˆ˜ ìˆë‹¤ëŠ” ì´ì ì´ ìˆë‹¤.
- ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œì—ëŠ” ê´€ë ¨ ì—†ëŠ” ë¡œì§ì´ ìì£¼ ì„ì—¬ ë“¤ì–´ê°€ëŠ”ë°, ì´ë¡œì¸í•´ ë²„ê·¸ê°€ ì‰½ê²Œ ë°œìƒí•˜ê³ , ë¬´ê²°ì„±ì„ ì‰½ê²Œ í•´ì¹œë‹¤

## ğŸ‘€ Hook ì‚¬ìš© ê·œì¹™ ë‘ê°€ì§€

- ìµœìƒìœ„ ì—ì„œë§Œ Hookì„ í˜¸ì¶œí•´ì•¼ í•œë‹¤
  - ë°˜ë³µë¬¸, ì¡°ê±´ë¬¸, ì¤‘ì²©ëœ í•¨ìˆ˜ ë‚´ì—ì„œ Hookì„ ì‹¤í–‰í•˜ë©´ ì•ˆëœë‹¤.
  - ì´ ê·œì¹™ì„ ë”°ë¥´ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë•Œë§ˆë‹¤ í•­ìƒ ë™ì¼í•œ ìˆœì„œë¡œ Hookì´ í˜¸ì¶œë˜ëŠ” ê²ƒì´ ë³´ì¥ëœë‹¤.
- ë¦¬ì•¡íŠ¸ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ Hookì„ í˜¸ì¶œí•´ì•¼ í•œë‹¤.
  - ì¼ë°˜ JSí•¨ìˆ˜ì—ì„œëŠ” Hookì„ í˜¸ì¶œí•´ì„œëŠ” ì•ˆëœë‹¤.

## ğŸ‘€ Hookì˜ ì¢…ë¥˜ì™€ ì •ë¦¬

#### â˜‘ï¸ useState

ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤. `[stateì´ë¦„, setterì´ë¦„]` ìˆœìœ¼ë¡œ ë°˜í™˜ ë°›ì•„ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```jsx
const [state, setState] = useState(initialState);
```

#### â˜‘ï¸ useEffect

í™”ë©´ì— ë Œë”ë§ì´ ì™„ë£Œëœ í›„ì— ìˆ˜í–‰ë˜ë©°`componentDidMount`ì™€ `componentDidUpdate`, `componentWillUnmount`ê°€ í•©ì³ì§„ ê²ƒ

- â—ï¸ë§Œì•½ í™”ë©´ì„ ë‹¤ ê·¸ë¦¬ê¸° ì´ì „ì— ë™ê¸°í™” ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš°ì—ëŠ”,**`useLayoutEffect`**ë¥¼ í™œìš©í•˜ì—¬ **ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ - useLayoutEffect ì‹¤í–‰ - í™”ë©´ ì—…ë°ì´íŠ¸** ìˆœìœ¼ë¡œ effectë¥¼ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

```jsx
useEffect(() => {}); // ë Œë”ë§ ê²°ê³¼ê°€ ì‹¤ì œ ë”ì— ë°˜ì˜ëœ í›„ë§ˆë‹¤ í˜¸ì¶œ
useEffect(() => {}, []); // ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë‚˜íƒ€ë‚ ë•Œ í•œ ë²ˆ í˜¸ì¶œ
useEffect(() => {}, [ì˜ì¡´ì„±1, ì˜ì¡´ì„±2, ..]); // ì¡°ê±´ë¶€ effect ë°œìƒ, ì˜ì¡´ì„± ì¤‘ í•˜ë‚˜ê°€ ë³€ê²½ëœë‹¤ë©´ effectëŠ” í•­ìƒ ì¬ìƒì„±ë©ë‹ˆë‹¤.
```

useEffectì•ˆì—ì„œì˜ returnì€ ì •ë¦¬ í•¨ìˆ˜(clean-up)ë¥¼ ì‚¬ìš©í•˜ê¸°ìœ„í•´ ì“°ì—¬ì§‘ë‹ˆë‹¤.

1. ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ë¥¼ ìœ„í•´ UIì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì œê±°í•˜ê¸° ì „ì— ìˆ˜í–‰
2. ì»´í¬ë„ŒíŠ¸ê°€ ì—¬ëŸ¬ ë²ˆ ë Œë”ë§ ëœë‹¤ë©´ ë‹¤ìŒ effectê°€ ìˆ˜í–‰ë˜ê¸° ì „ì— ì´ì „ effectê°€ ì •ë¦¬ë©ë‹ˆë‹¤.

#### â˜‘ï¸ useContext

Context APIë¥¼ í†µí•´ ë§Œë“¤ì–´ì§„ Contextì—ì„œ ì œê³µí•˜ëŠ” Valueë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤

```javascript
const value = useContext(MyContext);
```

ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ `<MyContext.Provider>`ê°€ ê°±ì‹ ë˜ë©´ ì´ Hookì€ ê·¸ `MyContext` providerì—ê²Œ ì „ë‹¬ëœ ê°€ì¥ ìµœì‹ ì˜ context `value`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë Œë”ëŸ¬ë¥¼ íŠ¸ë¦¬ê±° í•©ë‹ˆë‹¤.

#### â˜‘ï¸ useReducer

useStateì˜ ëŒ€ì²´ í•¨ìˆ˜ë¡œ ì»´í¬ë„ŒíŠ¸ ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¶„ë¦¬ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì»´í¬ë„ŒíŠ¸ ë°”ê¹¥ì— ë¡œì§ì„ ì‘ì„±í•  ìˆ˜ ë„ ìˆê³ , ì‹¬ì§€ì–´ ë‹¤ë¥¸ íŒŒì¼ì— ì‘ì„±í•œ í›„ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
reducerë€ í˜„ì¬ ìƒíƒœì™€ ì•¡ì…˜ ê°ì²´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì™€ì„œ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜í•´ì£¼ëŠ” í•¨ìˆ˜ ì…ë‹ˆë‹¤.

```jsx
const [state, dispatch] = useReducer(reducer, initialArg, init);
```

#### â˜‘ï¸ useRef

íŠ¹ì • DOM ì„ íƒí• ë•Œ ì£¼ë¡œ ì“°ì´ë©° `.current` í”„ë¡œí¼í‹°ë¡œ ì „ë‹¬ëœ ì¸ìë¡œ ì´ˆê¸°í™”ëœ ë³€ê²½ ê°€ëŠ¥í•œ ref ê°ì²´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ë°˜í™˜ëœ ê°ì²´ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ì „ ìƒì• ì£¼ê¸°ë¥¼ í†µí•´ ìœ ì§€ë©ë‹ˆë‹¤.

```jsx
const refContainer = useRef(null);
```

#### â˜‘ï¸ useMemo

ë©”ëª¨ì´ì œì´ì…˜ëœ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ë¯¸ ì—°ì‚° ëœ ê°’ì„ ë¦¬ë Œë”ë§ ì‹œ ë‹¤ì‹œ ê³„ì‚°í•˜ì§€ ì•Šë„ë¡ í•œë‹¤. ì˜ì¡´ì„±ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œì—ë§Œ ë©”ëª¨ì´ì œì´ì…˜ëœ ê°’ë§Œ ë‹¤ì‹œ ê³„ì‚° í•©ë‹ˆë‹¤. ì˜ì¡´ì„± ë°°ì—´ì´ ì—†ëŠ” ê²½ìš° ë§¤ ë Œë”ë§ ë•Œë§ˆë‹¤ ìƒˆ ê°’ì„ ê³„ì‚°í•©ë‹ˆë‹¤.

```jsx
const memoizedValue = useMemo(() => computeExpensiveValue(a, b), [a, b]);
```

#### â˜‘ï¸ useCallback

ë©”ëª¨ì´ì œì´ì…˜ ëœ ì½œë°±ì„ ë°˜í™˜í•©ë‹ˆë‹¤. useMemoì™€ ìœ ì‚¬í•˜ê²Œ ì´ìš©ë˜ë©° 'í•¨ìˆ˜'ì— ì ìš©í•´ì¤ë‹ˆë‹¤.
ì˜ì¡´ì„±ì´ ë³€ê²½ë˜ì—ˆì„ë•Œë§Œ ë³€ê²½ë©ë‹ˆë‹¤. ë•Œë¬¸ì— íŠ¹ì • í•¨ìˆ˜ë¥¼ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê³  ì¬ì‚¬ìš©ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.

```jsx
const memoizedCallback = useCallback(
  () => {
    doSomething(a, b);
  },
  [a, b],
);
```

------

# ğŸŒ ì°¸ì¡° ì‚¬ì´íŠ¸

- LifeCycle Method - https://react.vlpt.us/basic/25-lifecycle.html
- [React] ë¦¬ì•¡íŠ¸ì˜ ìƒëª…ì£¼ê¸°ì™€ Hook - https://velog.io/@sukong/REACT-ë¦¬ì•¡íŠ¸ì˜-ìƒëª…ì£¼ê¸°ì™€-useEffect-Hook
- Hooks API Reference - https://ko.reactjs.org/docs/hooks-reference.html
- [React] useEffect ì™€ useLayoutEffect ì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¼ê¹Œ? - https://medium.com/@jnso5072/react-useeffect-ì™€-uselayouteffect-ì˜-ì°¨ì´ëŠ”-ë¬´ì—‡ì¼ê¹Œ-e1a13adf1cd5
- [React] useEffectì™€ hook ìƒëª…ì£¼ê¸°(life-cycle) - https://killu.tistory.com/44





<br>

<br>

#### ì°¸ê³ ë§í¬: [[React.js\] ë¦¬ì•¡íŠ¸ ë¼ì´í”„ì‚¬ì´í´(life cycle) ìˆœì„œ, ì—­í• , Hook (velog.io)](https://velog.io/@minbr0ther/React.js-ë¦¬ì•¡íŠ¸-ë¼ì´í”„ì‚¬ì´í´life-cycle-ìˆœì„œ-ì—­í• )

<br>