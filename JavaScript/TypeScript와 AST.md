## ğŸ¨ TypeScriptì™€ AST

## ğŸš 1. Typescriptì™€ AST

ìµœê·¼ ì•„ëŠ” ì§€ì¸ìœ¼ë¡œë¶€í„° typescriptì˜ interfaceëŠ” ì–´ë–¤ ì‘ë™ì„ í•˜ëŠëƒëŠ” ë¬¼ìŒì— ì´ê²ƒì €ê²ƒ ì°¾ì•„ë³´ë‹¤ê°€ ì•Œê²Œ ëœ ë‚´ìš©ì„ ì •ë¦¬í•´ë³¸ë‹¤.

Javascript ì½”ë“œëŠ” Scannerì— ì˜í•´ ë¶„í•´ë˜ì–´ ê°€ì¥ ì‘ì€ ì˜ë¯¸ë¡ ì  ë‹¨ìœ„ì¸ "Token" ì˜ ëª¨ìŒì´ ëœ í›„, Parserì— ì˜í•´ ASTë¡œ ë³€í™˜ëœë‹¤.

![img](https://user-images.githubusercontent.com/58500558/167062763-975a9dca-eedf-474b-bc6c-3c484b53102a.png)

> ASTë€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰ë‹¨ìœ„ì¸ ë°”ì´íŠ¸ì½”ë“œë¡œ ë³€ê²½ì‹œí‚¤ê¸° ìœ„í•œ ì¤‘ê°„ ìë£Œ êµ¬ì¡°ì´ë‹¤.

ì´ ASTë¥¼ íƒìƒ‰í•˜ì—¬ ì˜¤ë¥˜ì ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë„êµ¬ê°€ ë°”ë¡œ ES lintì´ë‹¤.

![img](https://user-images.githubusercontent.com/58500558/167062970-a79c49eb-79a1-4f13-b01d-4afc6abe30f9.png)

> ESlintì˜ ì‘ì—…ì€ ìœ„ì— ë³´ì´ëŠ” traverse ë‹¨ê³„ì— í•´ë‹¹í•œë‹¤.

traverse ë‹¨ê³„ê°€ ëë§ˆì³ì§€ë©´, Babelì´ ì£¼ë„ë˜ì–´ ì´ë£¨ì–´ì§€ëŠ” 2ë‹¨ê³„ë¥¼ ê²ªëŠ”ë° ì²«ì§¸ë¡œ Manipulate ê³¼ì •ì—ì„œëŠ” ì˜ˆë¥¼ë“¤ì–´ "debugger"ë‚˜ ì£¼ì„ê³¼ ê°™ì´ í”„ë¡œë•ì…˜ ëª¨ë“œì—ì„œ ì‚¬ìš©ë˜ì§€ ì•Šì„ ì½”ë“œë“¤ì„ ì •ëˆí•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•œë‹¤.

ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ code generation ë‹¨ê³„ì—ì„œ pluginë“¤ì„ í†µí•œ ê¸°ì¡´ ì½”ë“œë¥¼ í˜¸í™˜ì— ë§ê²Œ ë³€ê²½í•˜ëŠ” ì‘ì—…ë“¤ ( ex let => var ) ì„ ì‹¤í–‰í•œ ë’¤, ì´ê²ƒì„ ë°”ì´íŠ¸ì½”ë“œë¡œ ë³€ê²½ì‹œì¼œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ ì‹¤í–‰ì‹œí‚¨ë‹¤.

í•˜ì§€ë§Œ, TypescriptëŠ” í•´ë‹¹ ê³¼ì •ì´ ì¡°ê¸ˆ ë‹¤ë¥´ë‹¤.
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ìì‹ ì˜ êµ¬ë¬¸ë¶„ì„ì„ ìœ„í•œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë§Œì˜ ASTë¥¼ ë§Œë“ ë‹¤ëŠ” íŠ¹ì§•ì´ ìˆë‹¤.

![img](https://user-images.githubusercontent.com/58500558/167064919-d7de0d2f-c73c-4809-a5c8-d60acbe389ea.png)

ìœ„ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯, typescript íŒ¨í‚¤ì§€ëŠ” ìì‹ ë§Œì˜ ASTë¥¼ í˜•ì„±í•´ì„œ íƒ€ì… ê²€ì‚¬ê¸°ë¥¼ í†µí•´ íƒ€ì…ì„ ì²´í‚¹í•˜ê³ , ë‹¤ì‹œ JSíŒŒì¼ì„ ë§Œë“¤ì–´ ê¸°ì¡´ì˜ javascript íŒŒì‹± ê³¼ì •ì„ ì´ì–´ë‚˜ê°„ë‹¤. ì´ ë•Œ ë§Œë“¤ì–´ì§€ëŠ” js íŒŒì¼ì—ëŠ” ë‹¹ì—°íˆ typescript ì™€ ê´€ë ¨ëœ íƒ€ì…êµ¬ë¬¸ë“¤ì´ ëª¨ë‘ ì œê±°ëœ ìƒíƒœì´ë‹¤.

ì¦‰, ë‹¤ì‹œë§í•˜ìë©´ typescriptì˜ íƒ€ì…ì€ ì²« 1~3ë‹¨ê³„ì—ì„œ typescript ASTë¥¼ ë§Œë“œëŠ” ë™ì•ˆ ë©”ëª¨ë¦¬ë¥¼ ì ìœ í•˜ì—¬ íƒ€ì…ë“¤ì„ ë“±ë¡í•˜ê³  í‰ê°€í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹œë‹¤.

## ğŸš 2. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ì¥ì 

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì»´íŒŒì¼ ì‹œì ì—ì„œ ASTì˜ ë¶„ì„ì„ í†µí•´ íƒ€ì…ì„ ì •ì ìœ¼ë¡œ ì¶”ë¡ í•¨ìœ¼ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë™ì  íƒ€ì… ë³€í™˜ì— ì˜í•œ ì—ëŸ¬ë¡œë¶€í„° ë³´ì™„ë  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ì¡´ì¬í•œë‹¤.

ì˜ˆë¥¼ë“¤ì–´,

```js
let num = 1 + [1] 
// ìœ„ì˜ ë‚´ìš©ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ì••ë¬µì  íƒ€ì…ë³€í™˜ìœ¼ë¡œ ì¸í•´ [1] => 1ì´ ë˜ì–´ '11' string ê°’ì´ ë˜ì–´ë²„ë¦°ë‹¤.
```

ê°œë°œì„ í•˜ë©´ì„œ ë³€ìˆ˜ì˜ íƒ€ì…ì´ ì–´ë– í•œì§€ ì •í•´ì§€ì§€ ì•Šì€ í•œ, ëŸ°íƒ€ì„ ì‹œì ì—ì„œ ì´ëŸ° ì•”ë¬µì ì¸ ë³€ë™ìœ¼ë¡œ ì¸í•œ ì—ëŸ¬ëŠ” ì–¸ì œë‚˜ ë§ˆì£¼ì¹  ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•˜ë©´

```ts
let name : number = 1 + [1] 
// Operator '+' cannot be applied to types 'number' and 'number[]'
// ì´ë ‡ê²Œ ì»´íŒŒì¼ ì‹œì ì—ì„œ ì§ì‘ê°€ëŠ¥í•œ ì—ëŸ¬ë¥¼ ì¡ì•„ì¤€ë‹¤
```

# ğŸš reference

[What is AST](https://www.youtube.com/watch?v=C06MohLG_3s)
[generate typescript AST](https://ts-ast-viewer.com/#code/JYOwLgpgTgZghgYwgAgHJwLYoN4ChkHJgCeADigFzIDKYUoA5gNy4C+QA)



<br>

<br>

#### ì°¸ê³ ë§í¬: [Typescriptì™€ AST (velog.io)](https://velog.io/@chltjdrhd777/Typescriptì™€-AST)

<br>