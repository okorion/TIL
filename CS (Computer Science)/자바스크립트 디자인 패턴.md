## ğŸ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë””ìì¸ íŒ¨í„´

## ë””ìì¸ íŒ¨í„´ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?

[Wikipediaì— ë”°ë¥´ë©´ ì†Œí”„íŠ¸ì›¨ì–´ ë””ìì¸ íŒ¨í„´ì€...](https://en.wikipedia.org/wiki/Software_design_pattern):

> ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ì˜ ì£¼ì–´ì§„ ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ ì¼ë°˜ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ë¬¸ì œì— ëŒ€í•œ ì¼ë°˜ì ì´ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤. ì†ŒìŠ¤ë‚˜ ê¸°ê³„ì–´ë¡œ ì§ì ‘ ë³€í™˜í•  ìˆ˜ ìˆëŠ” ì™„ì„±ëœ ë””ìì¸ì´ ì•„ë‹™ë‹ˆë‹¤. ì˜¤íˆë ¤ ë‹¤ì–‘í•œ ìƒí™©ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ì„¤ëª… ë˜ëŠ” í…œí”Œë¦¿ì…ë‹ˆë‹¤. ë””ìì¸ íŒ¨í„´ì€ í”„ë¡œê·¸ë˜ë¨¸ê°€ ì‘ìš© í”„ë¡œê·¸ë¨ì´ë‚˜ ì‹œìŠ¤í…œì„ ë””ìì¸í•  ë•Œ ì¼ë°˜ì ì¸ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³µì‹í™”ëœ ëª¨ë²” ì‚¬ë¡€ì…ë‹ˆë‹¤.

Lambda Test í¬ìŠ¤íŠ¸ ë˜í•œ "ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ê°ì²´ ì§€í–¥ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œìê°€ ì±„íƒí•œ ê²€ì¦ëœ(time-tested) ì†”ë£¨ì…˜ê³¼ ëª¨ë²” ì‚¬ë¡€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤"ë¼ê³  ë§í•©ë‹ˆë‹¤.

## 2021 JavaScript ë””ìì¸ íŒ¨í„´

![JavaScript Design Patterns Graphic - a visual of the above information](https://www.devh.kr/assets/postImages/Design-Patterns-In-JavaScript/Behavioral-Design-Patterns.png)

[Source](https://www.telerik.com/blogs/design-patterns-in-javascript)

Lambda Testì— ë”°ë¥´ë©´ JavaScriptì—ì„œ ëª¨ë“  íŒ¨í„´ì„ êµ¬í˜„í•˜ëŠ”ë° í•„ìš”í•œ ê¸°ë³¸ ê¸°ëŠ¥ì´ ìˆê¸° ë•Œë¬¸ì— ëª¨ë“  íŒ¨í„´ì´ í•„ìš”í•œ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤. ë”°ë¼ì„œ ì´ ê²Œì‹œë¬¼ì—ì„œëŠ” ì„ íƒí•œ ë””ìì¸ íŒ¨í„´ ê·¸ë£¹ì— ëŒ€í•´ì„œë§Œ ë…¼ì˜í•  ê²ƒì…ë‹ˆë‹¤. ë‚´ê°€ ê±´ë„ˆë›´ ê²ƒì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´ ì–¸ì œë“ ì§€ ëŒ“ê¸€ì„ ë‚¨ê²¨ì£¼ì„¸ìš”.

ì°¸ê³ : ì•„ë˜ ì¸ìš©ëœ ëª¨ë“  ì •ì˜ëŠ” [Wikipediaì˜ Software Design Patterns í•­ëª©](https://en.wikipedia.org/wiki/Software_design_pattern)ì—ì„œ ê°€ì ¸ì˜¨ ê²ƒì…ë‹ˆë‹¤.

### Constructor / Builder Pattern (ìƒì„±ì / ë¹Œë” íŒ¨í„´) - ìƒì„± ë””ìì¸ (Creational Design)

> ë³µì¡í•œ ì˜¤ë¸Œì íŠ¸ì˜ êµ¬ì„±(construction)ì„ í•´ë‹¹ í‘œí˜„ê³¼ ë¶„ë¦¬í•˜ì—¬ ë™ì¼í•œ êµ¬ì„± í”„ë¡œì„¸ìŠ¤ë¥¼ í†µí•´ ë‹¤ì–‘í•œ í‘œí˜„ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

OK. ì´ì „ì— ìƒì„±ì ë””ìì¸ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ JavaScript ì½”ë“œë¥¼ ì‘ì„±í•œ ì ì´ ìˆìŠµë‹ˆë‹¤! ë‚˜ëŠ” ê·¸ê²ƒì´ JavaScriptì˜ í´ë˜ìŠ¤ ê¸°ëŠ¥ì´ë¼ê³  ìƒê°í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë‚˜ëŠ” ê·¸ê²ƒì´ "ë””ìì¸ íŒ¨í„´"ìœ¼ë¡œ ê°„ì£¼ëœë‹¤ëŠ” ê²ƒì„ ê²°ì½” ì•Œì§€ ëª»í–ˆìŠµë‹ˆë‹¤.

```javascript
class Person {
  constructor(name, age, mother) {
    this.name = name;
    this.age = age;
    this.mother = mother;
  }
}

const tim = new Person('Tim', 31, null);
const tina = new Person('Tina', 57, null);

tim.mother = tina;

console.log(tim);

const grandma = new Person('Sherry', 80, null);

tina.mother = grandma;

console.log(tim);
```

### Factory Pattern - ìƒì„± ë””ìì¸ (Creational Design)

> ë‹¨ì¼ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ê¸° ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•˜ì§€ë§Œ ì„œë¸Œ í´ë˜ìŠ¤ê°€ ì¸ìŠ¤í„´ìŠ¤í™”(instantiate)í•  í´ë˜ìŠ¤ë¥¼ ê²°ì •í•˜ë„ë¡ í•©ë‹ˆë‹¤. íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ í´ë˜ìŠ¤ê°€ ì„œë¸Œ í´ë˜ìŠ¤ì— ëŒ€í•œ ì¸ìŠ¤í„´ìŠ¤í™”(instantiation)ë¥¼ ì—°ê¸°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Lambda Test í¬ìŠ¤íŠ¸ì—ì„œ íŒ¨í„´ì„ êµ¬í˜„í•œ ë°©ì‹ì„ ë³´ë©´ ì´ë¦„ì´ ë”± ë§ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë¬¸ì ê·¸ëŒ€ë¡œ ì ì ˆí•œ ì˜¤ë¸Œì íŠ¸ë¥¼ ë°˜í™˜í•˜ê¸° ìœ„í•´ ë‹¤ì–‘í•œ ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë‹¨ì¼ í•¨ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤. ì˜ë¥˜ ê³µì¥ì— ì…”ì¸ ë¥¼ ë‹¬ë¼ê³  í•˜ë©´ ì…”ì¸ ë¥¼ ì£¼ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ë°”ì§€ë¥¼ ë‹¬ë¼ê³  í•˜ë©´ ë°”ì§€ë¥¼ ì¤ë‹ˆë‹¤. ì‹ ë°œì„ ë‹¬ë¼ê³  í•˜ë©´ ì‹ ë°œì„ ì¤ë‹ˆë‹¤. ê·¸ë¦¬ê³  ê°ê°ì˜ ì˜¤ë¸Œì íŠ¸ë“¤ì€ ê³ ìœ ì˜ ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

```js
function animalFactory() {
  this.createAnimal = function(animalType) {
    let animal;

    switch(animalType) {
      case 'dog':
        animal = new Dog();
        break;
      case 'cat':
        animal = new Cat();
        break;
      case 'horse':
        animal = new Horse();
        break;
      default:
        animal = new Monkey();
        break;
    }

    return animal;
  }
}

const Dog = function() {
  this.makeSound = () => {
    console.log('woof woof!');
  }
}

const Cat = function() {
  this.makeSound = () => {
    console.log('prrr prrr meow!');
  }
}

const Horse = function() {
  this.makeSound = () => {
    console.log('neeeighhh!')
  }
}

const Monkey = function() {
  this.makeSound = () => {
    console.log('ooooh ahh oooh oooh!');
  }
}

const factory = new animalFactory();

const jojo = factory.createAnimal('dog');
jojo.makeSound();

const smokey = factory.createAnimal('cat');
smokey.makeSound();

const princess = factory.createAnimal('horse');
princess.makeSound();

const kong = factory.createAnimal('monkey');
kong.makeSound();
```

### Prototype Pattern - ìƒì„± ë””ìì¸ (Creational Design)

> í”„ë¡œí† íƒ€ì… ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒì„±í•  ì˜¤ë¸Œì íŠ¸ì˜ ì¢…ë¥˜ë¥¼ ì§€ì •í•˜ê³  ê¸°ì¡´ ì˜¤ë¸Œì íŠ¸ì˜ 'ë¼ˆëŒ€(skeleton)'ì—ì„œ ìƒˆ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ì—¬ ì„±ëŠ¥ì„ ë†’ì´ê³  ë©”ëª¨ë¦¬ ê³µê°„(footprints)ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.

í”„ë¡œí† íƒ€ì´í•‘ì„ ë§ì´ ë‹¤ë¤„ë³¸ì ì´ ì—†ì—ˆê³  JavaScriptì˜ ë©‹ì§„ ê¸°ëŠ¥ì´ë¼ëŠ” ê²ƒì„ ì•Œê³  ìˆê¸° ë•Œë¬¸ì— ë” ìì„¸íˆ ì‚´í´ë³¼ ìˆ˜ ìˆì–´ì„œ í¥ë¶„ë©ë‹ˆë‹¤. ì†”ì§íˆ ë§í•´ì„œ, ì´ê²ƒì€ Lambda Test í¬ìŠ¤íŠ¸ì˜ ì„¹ì…˜ì„ ë‹¤ì‹œ ì½ê³  ì´ê²ƒì´ ëª¨ë‘ ë³µì œì— ê´€í•œ ê²ƒì´ë¼ëŠ” ê²ƒì„ ê¹¨ë‹«ê¸° ì „ê¹Œì§€ ì €ë¥¼ ë§ì´ í˜¼ë€ìŠ¤ëŸ½ê²Œ í–ˆìŠµë‹ˆë‹¤. ì¼ë‹¨ ì•„ë˜ êµ¬í˜„ì„ ì‹œë„í•´ë³´ë‹ˆ ê·¸ê²ƒì„ ì•Œì•„ë‚¼ ìˆ˜ ìˆì—ˆê³  ì •ë§ë¡œ ì´í•´í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

```js
const macBook = {
  color: 'silver',
  turnOn() {
    console.log('turning on...');
  },
  turnOff() {
    console.log('turning off...');
  }
}

// Proper prototype cloning
const myComputer = Object.create(macBook, { owner: { value: 'Tim'} });
console.log(myComputer.__proto__ === macBook);

// Not a prototype copy
const newComputer = {...macBook, owner: 'John'};
console.log(newComputer.__proto__ === macBook);

macBook.power = 'USB-C';

// The protoype gets the new value for 'power'
console.log(myComputer.power);
// But the non-prototype doesn't
console.log(newComputer.power);
```

### Singleton Pattern / Strict Pattern - ìƒì„± ë””ìì¸ (Creational Design)

> í´ë˜ìŠ¤ì— ì¸ìŠ¤í„´ìŠ¤ê°€ í•˜ë‚˜ë§Œ ìˆëŠ”ì§€ í™•ì¸í•˜ê³  ì´ì— ëŒ€í•œ ì „ì—­ ì•¡ì„¸ìŠ¤ í¬ì¸íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

ì´ê²ƒì€ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œë ¤ê³  ì‹œë„í•˜ë©´ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì°¸ì¡°(reference)ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì‰½ê²Œ ì´í•´ë˜ì‹œì£ .

```js
const Database = (function () {
  let instance;

  function createDatabaseInstance() {
    return new Object('Database Instance');
  }

  function getDatabaseInstance() {
    if (!instance) {
      instance = createDatabaseInstance();
    }

    return instance;
  }

  return { getDatabaseInstance }
})();

const databaseInstance1 = Database.getDatabaseInstance();
const databaseInstance2 = Database.getDatabaseInstance();

console.log(databaseInstance1 === databaseInstance2);
```

<br>

<br>

#### ì°¸ê³ ë§í¬: [[ë²ˆì—­\] ìë°”ìŠ¤í¬ë¦½íŠ¸ ë””ìì¸ íŒ¨í„´ (devh.kr)](https://www.devh.kr/posts/2021-11-13-Design-Patterns-In-JavaScript)

<br>