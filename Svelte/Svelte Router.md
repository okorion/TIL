# ğŸš‚ Svelte Router

- `[ì™„ì„± ì†ŒìŠ¤]` : https://github.com/pahkey/fastapi-book/tree/v2.05.2
- `[ë³€ê²½ ë‚´ì—­]` : https://github.com/pahkey/fastapi-book/commit/59bf63d9e7a0df718111bbfd692bad7c12c27b04

ì§ˆë¬¸ ëª©ë¡ í™”ë©´ì„ ì‘ì„±í–ˆìœ¼ë‹ˆ ì´ì œ ì§ˆë¬¸ ìƒì„¸ í™”ë©´ì„ ì‘ì„±í•  ì°¨ë¡€ì´ë‹¤. í•˜ì§€ë§Œ ë‹¤ìŒìœ¼ë¡œ ì§„í–‰í•˜ê¸° ì „ì— í•´ê²°í•´ì•¼ í•  ê²ƒì´ ìˆë‹¤.

- [í•„ìš”í•œ í™”ë©´ë“¤](https://wikidocs.net/176335#_1)

- [svelte-spa-router ì„¤ì¹˜í•˜ê¸°](https://wikidocs.net/176335#svelte-spa-router)

- ë¼ìš°í„° ì ìš©í•˜ê¸°

  - [routes ë””ë ‰í„°ë¦¬ ìƒì„±í•˜ê¸°](https://wikidocs.net/176335#routes)
  - [Home.svelte íŒŒì¼ ì‘ì„±í•˜ê¸°](https://wikidocs.net/176335#homesvelte)
  - [App.svelte íŒŒì¼ ìˆ˜ì •í•˜ê¸°](https://wikidocs.net/176335#appsvelte)

- [ë™ì‘ í™•ì¸](https://wikidocs.net/176335#_3)

  

  <br>

## í•„ìš”í•œ í™”ë©´ë“¤

ì§ˆë¬¸ ë‹µë³€ ì‚¬ì´íŠ¸ì¸ íŒŒì´ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í™”ë©´ë“¤ì´ í•„ìš”í•˜ë‹¤.

- ì§ˆë¬¸ ëª©ë¡ - ì§ˆë¬¸ì˜ ëª©ë¡ì„ í‘œì‹œí•˜ëŠ” í™”ë©´
- ì§ˆë¬¸ ìƒì„¸ - ì§ˆë¬¸ì˜ ìƒì„¸ ë‚´ìš©ì„ í™•ì¸í•˜ê³  ë‹µë³€ì„ ì‘ì„±í•˜ëŠ” í™”ë©´
- ì§ˆë¬¸ ì‘ì„± - ì§ˆë¬¸ì„ ì‘ì„±í•˜ëŠ” í™”ë©´
- ì§ˆë¬¸ ìˆ˜ì • - ì§ˆë¬¸ì„ ìˆ˜ì •í•˜ëŠ” í™”ë©´
- ë‹µë³€ ìˆ˜ì • - ë‹µë³€ì„ ìˆ˜ì •í•˜ëŠ” í™”ë©´
- íšŒì› ê°€ì… - íšŒì› ê°€ì…ì„ ìœ„í•œ í™”ë©´
- ë¡œê·¸ì¸ - ë¡œê·¸ì¸ì„ ìœ„í•œ í™”ë©´

í•˜ì§€ë§Œ SvelteëŠ” SPAì´ê¸° ë•Œë¬¸ì— ë‹¨ í•˜ë‚˜ì˜ í˜ì´ì§€ì—ì„œë§Œ ë‚´ìš©ì„ ë‹¬ë¦¬í•˜ì—¬ í‘œì‹œí•´ì•¼ í•œë‹¤.

> SPA(Single Page Application)ë€ ì›¹ ì‚¬ì´íŠ¸ì˜ ì „ì²´ í˜ì´ì§€ë¥¼ í•˜ë‚˜ì˜ í˜ì´ì§€ì— ë‹´ì•„ ë™ì ìœ¼ë¡œ í™”ë©´ì„ ë°”ê¿”ê°€ë©° í‘œí˜„í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.

í•˜ë‚˜ì˜ í˜ì´ì§€ì—ì„œ ìœ„ì™€ ê°™ì€ í™”ë©´ë“¤ì„ ë°”ê¾¸ì–´ê°€ë©° ë§Œë“¤ë ¤ë©´ ì½”ë“œê°€ ë³µì¡í•´ì§„ë‹¤. ì´ëŸ° ê²½ìš° Svelteì˜ svelte-spa-routerë¥¼ ì‚¬ìš©í•˜ë©´ ê°„ë‹¨íˆ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

<br>

## svelte-spa-router ì„¤ì¹˜í•˜ê¸°

Svelteì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¤‘ í•˜ë‚˜ì¸ `svelte-spa-router`ë¥¼ ì„¤ì¹˜í•˜ê³  ì‚¬ìš©í•´ ë³´ì. VSCode í„°ë¯¸ë„ì—ì„œ ë™ì‘ì¤‘ì¸ ì„œë²„ë¥¼ ì¤‘ì§€ì‹œí‚¤ê³  `npm install svelte-spa-router` ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ `svelte-spa-router`ë¥¼ ì„¤ì¹˜í•˜ì.

- svelte-spa-router - https://github.com/ItalyPaleAle/svelte-spa-router

```
[VSCode í„°ë¯¸ë„]
frontend % npm install svelte-spa-router
```

ì„¤ì¹˜ í›„ì—ëŠ” `npm run dev` ëª…ë ¹ìœ¼ë¡œ ì„œë²„ë¥¼ ë‹¤ì‹œ ì‹œì‘í•˜ì.

<br>

## ë¼ìš°í„° ì ìš©í•˜ê¸°

ë¼ìš°í„°ë¥¼ ì ìš©í•˜ë ¤ë©´ ì´ ì±•í„°ì—ì„œ ì²˜ìŒì— ì‚´í´ ë³´ì•˜ë˜ í•„ìš”í•œ í™”ë©´ë“¤ ê°ê°ì— ëŒ€í•œ URLì£¼ì†Œ ë„¤ì´ë°ì´ í•„ìš”í•˜ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì§ˆë¬¸ ì‘ì„± í™”ë©´ì€ `http://127.0.0.1:5173/question-create` ì™€ ê°™ì€ URL ì£¼ì†Œ ì´ë¦„ì´ í•„ìš”í•œ ê²ƒì´ë‹¤.

íŒŒì´ë³´ëŠ” ê°ê°ì˜ í™”ë©´ì— ë‹¤ìŒê³¼ ê°™ì€ URL ê·œì¹™ì„ ì§€ì •í•  ê²ƒì´ë‹¤.

| URLëª…                         | íŒŒì¼ëª…                | í™”ë©´ëª…    |
| :---------------------------- | :-------------------- | :-------- |
| /                             | Home.svelte           | ì§ˆë¬¸ ëª©ë¡ |
| /detail/:question_id          | Detail.svelte         | ì§ˆë¬¸ ìƒì„¸ |
| /question-create              | QuestionCreate.svelte | ì§ˆë¬¸ ì‘ì„± |
| /question-modify/:question_id | QuestionModify.svelte | ì§ˆë¬¸ ìˆ˜ì • |
| /user-login                   | UserLogin.svelte      | ë¡œê·¸ì¸    |
| /user-create                  | UserCreate.svelte     | íšŒì›ê°€ì…  |
| /answer-modify/:answer_id     | AnswerModify.svelte   | ë‹µë³€ ìˆ˜ì • |

> `/detail/:question_id` ì—ì„œ `:question_id` ëŠ” ê°€ë³€ì ì¸ ë³€ìˆ˜ë¡œ `/detail/2` ì²˜ëŸ¼ í˜¸ì¶œë˜ì—ˆì„ ë•Œ question_id ë³€ìˆ˜ì— 2ë¼ëŠ” ê°’ì´ ëŒ€ì…ëœë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.

í•´ë‹¹ URLì„ í˜¸ì¶œí•˜ë©´ ê·¸ì— ë§¤í•‘ë˜ëŠ” svelte íŒŒì¼ì´ í™”ë©´ì„ ë Œë”ë§í•˜ë„ë¡ ì„¤ê³„í•  ê²ƒì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `/` ì— í•´ë‹¹ë˜ëŠ” ì£¼ì†Œê°€ ìš”ì²­ë˜ë©´ Home.svelte íŒŒì¼ì´ ë™ì‘í•˜ì—¬ í™”ë©´ì„ ìƒì„±í•´ì•¼ í•œë‹¤. ì§€ê¸ˆì€ ì§ˆë¬¸ ëª©ë¡ í™”ë©´ë§Œ ì‘ì„±í•œ ìƒíƒœì´ë¯€ë¡œ ì§ˆë¬¸ ëª©ë¡ë§Œ ë“±ë¡í•˜ì—¬ ì‹œì‘í•´ ë³´ì. ì´ëŸ¬í•œ URL ê·œì¹™ì€ App.svelte íŒŒì¼ì— ì‘ì„±í•´ì•¼ í•œë‹¤.

<br>

### routes ë””ë ‰í„°ë¦¬ ìƒì„±í•˜ê¸°

í•˜ì§€ë§Œ App.svelte íŒŒì¼ì„ ìˆ˜ì •í•˜ê¸°ì— ì•ì„œ App.svelte íŒŒì¼ì„ Home.svelte íŒŒì¼ë¡œ ë³µì‚¬í•´ì•¼ í•œë‹¤. ì™œëƒí•˜ë©´ App.svelte íŒŒì¼ì—ëŠ” ì´ë¯¸ ì§ˆë¬¸ ëª©ë¡ í™”ë©´ì´ êµ¬í˜„ë˜ì–´ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ë¦¬ê³  Home.svelteì™€ ê°™ì€ URLì£¼ì†Œì™€ ë§¤í•‘ë˜ëŠ” íŒŒì¼ë“¤ì„ ë”°ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ src ë””ë ‰í„°ë¦¬ í•˜ìœ„ì— routes ë””ë ‰í„°ë¦¬ë¥¼ ë¨¼ì € ìƒì„±í•˜ì.

![img](https://wikidocs.net/images/page/176335/O_2-05_3.png)



<br>

### Home.svelte íŒŒì¼ ì‘ì„±í•˜ê¸°

ê·¸ë¦¬ê³  ìƒì„±í•œ routes ë””ë ‰í„°ë¦¬ì— Home.svelte íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ ë§Œë“¤ì.

```
[íŒŒì¼ëª…: projects/myapi/frontend/src/routes/Home.svelte]
<script>
    let question_list = []

    function get_question_list() {
        fetch("http://127.0.0.1:8000/api/question/list").then((response) => {
            response.json().then((json) => {
                question_list = json
            })
        })
    }

    get_question_list()
</script>

<ul>
    {#each question_list as question}
        <li>{question.subject}</li>
    {/each}
</ul>
```

App.svelte íŒŒì¼ì˜ ë‚´ìš©ì„ ë³€ê²½ì—†ì´ ê·¸ëŒ€ë¡œ ë³µì‚¬í–ˆë‹¤.

<br>

### App.svelte íŒŒì¼ ìˆ˜ì •í•˜ê¸°

ê·¸ë¦¬ê³  App.svelte íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ì.

```
[íŒŒì¼ëª…: projects/myapi/frontend/src/App.svelte]
<script>
  import Router from 'svelte-spa-router'
  import Home from "./routes/Home.svelte"

  const routes = {
    '/': Home,
  }
</script>

<Router {routes}/>
```

`/` ì£¼ì†Œì— ë§¤í•‘ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ `<Home />`ì„ ë“±ë¡í–ˆë‹¤. ì—¬ê¸°ì„œ `<Home />`ì€ ìƒˆë¡œ ì‘ì„±í•œ Home.svelte íŒŒì¼ì˜ ë‚´ìš©ì„ ì˜ë¯¸í•œë‹¤. ì´ í›„ ì¶”ê°€ë˜ëŠ” URL ê·œì¹™ë“¤ë„ routes ë³€ìˆ˜ì— ì¶”ê°€í•˜ë©´ ëœë‹¤.

<br>

## ë™ì‘ í™•ì¸

ì´ë ‡ê²Œ ìˆ˜ì •í•˜ê³  `http://127.0.0.1:5173/` ì‚¬ì´íŠ¸ì— ì ‘ì†í•´ ë³´ì. ì´ì „ê³¼ ë™ì¼í•œ ì§ˆë¬¸ ëª©ë¡ì´ ë‚˜íƒ€ë‚  ê²ƒì´ë‹¤.

![img](https://wikidocs.net/images/page/176335/O_2-05_4.png)

`/` ì£¼ì†Œì— í•´ë‹¹í•˜ëŠ” Home.svelteê°€ í˜¸ì¶œë˜ì–´ í™”ë©´ì— í‘œì‹œëœ ê²ƒì´ë‹¤.

<br>

<br>

#### ì°¸ê³ ë§í¬: [2-05-2 ìŠ¤ë²¨íŠ¸ ë¼ìš°í„° - ì í”„ íˆ¬ FastAPI (wikidocs.net)](https://wikidocs.net/176335)

<br>