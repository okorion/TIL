## ğŸœ ìœ ìš©í•œ ë¦¬ì•¡íŠ¸ íŒ¨í„´ 5ê°€ì§€

![post-thumbnail](https://velog.velcdn.com/images/dnr6054/post/3a857d1b-b5b9-4f09-b950-d10c437ae1ed/%E1%84%8C%E1%85%A1%E1%84%89%E1%85%A1%E1%86%AB%205.png)

> ë³¸ ê¸€ì€ Alexis Regnaudë‹˜ì˜ [5 Advanced React Patterns](https://javascript.plainenglish.io/5-advanced-react-patterns-a6b7624267a6) ë¥¼ ì°¸ê³ í•œ í¬ìŠ¤íŒ…ì…ë‹ˆë‹¤. ì˜¤ì—­, í”¼ë“œë°± ë“±ì€ ë‹µê¸€ì„ ë‹¬ì•„ì£¼ì„¸ìš”!

### ë³¸ë¡ ì— ì•ì„œ...

ë‹¤ë“¤ ë¦¬ì•¡íŠ¸ ê°œë°œìë¼ë©´ í•œë²ˆì¯¤ ë‹¤ìŒê³¼ ê°™ì€ ì§ˆë¬¸ì„ ìì‹ ì—ê²Œ ë˜ì ¸ë³¸ ì ì´ ìˆì„ ê²ƒì´ë‹¤.

- ì–´ë–»ê²Œ í•˜ë©´ **ì¬ì‚¬ìš©ê°€ëŠ¥í•œ** ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ê° ë‹¤ë¥¸ use caseë“¤ì— ë§ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆì„ê¹Œ?
- ì–´ë–»ê²Œ í•˜ë©´ ì»´í¬ë„ŒíŠ¸ë¥¼ **ê°„ë‹¨í•œ API**ë¡œ ì“°ê¸° ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆì„ê¹Œ?
- ì–´ë–»ê²Œ í•˜ë©´ UIì™€ ê¸°ëŠ¥ì„±ì˜ ì¸¡ë©´ì—ì„œ **í™•ì¥ ê°€ëŠ¥í•œ** ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì„ê¹Œ?

ë³¸ í¬ìŠ¤íŒ…ì—ì„œëŠ” 5ê°œì˜ ë‹¤ë¥¸ íŒ¨í„´ì„ ì‚´í´ë³¸ë‹¤.
ë¹„êµë¥¼ ìš©ì´í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œ ê°ê°ì˜ íŒ¨í„´ì— ëŒ€í•´ **ë™ì¼í•œ êµ¬ì¡°**ë¥¼ í†µí•´ ì•Œì•„ë³´ì.

1. Counter ì˜ˆì œë¥¼ í†µí•œ ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ
2. íŒ¨í„´ì˜ ì¥, ë‹¨ì 
3. ë‘ ê°œì˜ ê¸°ì¤€ì„ í†µí•œ ë¹„êµ

- Inversion of Control(IoC): ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ìœ ì €ì—ê²Œ ì£¼ì–´ì§€ëŠ” ìœ ì—°ì„±(flexibility)ì™€ ì œì–´(control)ì˜ ì •ë„
- Implementation complexity: ìœ ì €ì™€ ê°œë°œì ëª¨ë‘ì— ëŒ€í•´ ê·¸ íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ë‚œì´ë„.

1. ê·¸ íŒ¨í„´ì„ ì‚¬ìš©í•´ ë°°í¬í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ˆì‹œ

> ì°¸ê³ ë¡œ ì—¬ê¸°ì—ì„œ ìœ ì €ëŠ” ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ ê°œë°œìë¥¼ ë§í•˜ê³ , ê°œë°œìëŠ” ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°œë°œí•˜ëŠ” ë¦¬ì•¡íŠ¸ ê°œë°œì(ë°”ë¡œ ë‹¹ì‹ )ì„ ë§í•œë‹¤.

------

### Compound Components Pattern

ì´ íŒ¨í„´ì€ ë¶ˆí•„ìš”í•œ prop drilling ì—†ì´ Expressiveí•˜ê³  Declarativeí•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë„ì™€ì¤€ë‹¤. ë§Œì•½ ì¢€ ë” customizableí•˜ê³  ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´ ì´ íŒ¨í„´ì„ ê³ ë ¤í•´ë³´ì•„ì•¼ í•œë‹¤.

> prop drillingì´ë€ App ì»´í¬ë„ŒíŠ¸ì—ì„œ Cì»´í¬ë„ŒíŠ¸ì—ê²Œ ë°ì´í„°ë¥¼ ì£¼ê³  ì‹¶ì„ ë•Œ, Aì™€ Bì—ëŠ” í•„ìš”ì—†ì§€ë§Œ C ì»´í¬ë„ŒíŠ¸ì—ê²Œ ë°ì´í„°ë¥¼ ì£¼ê³  ì‹¶ì„ ë•Œ, ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í”„ë¡œí¼í‹°ë¥¼ ì•„ë˜ë¡œ ë‚´ë ¤ ê½‚ë“¯ì´ ë°ì´í„°ë¥¼ ì „ë‹¬í•´ì£¼ëŠ” ê²ƒì„ ë§í•œë‹¤.

#### ì˜ˆì œ

```javascript
import React from "react";
import { Counter } from "./Counter";

function Usage() {
  const handleChangeCounter = (count) => {
    console.log("count", count);
  };

  return (
    <Counter onChange={handleChangeCounter}>
      <Counter.Decrement icon="minus" />
      <Counter.Label>Counter</Counter.Label>
      <Counter.Count max={10} />
      <Counter.Increment icon="plus" />
    </Counter>
  );
}

export { Usage };
```

#### ì¥ì 

- API ë³µì¡ë„ê°€ ë‚®ë‹¤. í•˜ë‚˜ì˜ ê±°ëŒ€í•œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì— ëª¨ë“  propì„ ë•Œë ¤ë„£ê³  ìì‹ ì»´í¬ë„ŒíŠ¸ì— ê½‚ì•„ì£¼ëŠ” ë°©ë²•ë³´ë‹¤ ê°ê°ì˜ propì´ ê°ê°ì˜ ì„œë¸Œì»´í¬ë„ŒíŠ¸ì— ë¶™ì–´ìˆëŠ” ë°©ë²•ì´ ë” ì¢‹ë‹¤.

```javascript
// ì´ë ‡ê²Œ ì“°ëŠ” ê²ƒë³´ë‹¤
return (
  <Counter
    label="label"
    max={10}
    iconDecrement="minus"
    iconIncrement="plus"
    onChange={handleChangeCounter}
  />
);
// ì´ë ‡ê²Œ ì“°ëŠ”ê²Œ ë‚«ë‹¤!
return (
  <Counter onChange={handleChangeCounter}>
    <Counter.Decrement icon={"minus"} />
    <Counter.Label>Counter</Counter.Label>
    <Counter.Count max={10} />
    <Counter.Increment icon={"plus"} />
  </Counter>
);
```

- ìœ ì—°í•œ ë§ˆí¬ì—… êµ¬ì¡°
  ![img](https://velog.velcdn.com/images%2Fdnr6054%2Fpost%2Fef90576d-eba9-4a5a-a63e-28ceaf508cb4%2FScreen%20Shot%202021-05-25%20at%203.49.49%20PM.png)
  ì´ì²˜ëŸ¼ ì»´í¬ë„ŒíŠ¸ê°€ ì—„ì²­ë‚œ ììœ ë„ë¥¼ ê°–ëŠ”ë‹¤.
- ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬
  ëŒ€ë¶€ë¶„ì˜ ë¡œì§ì€ Counter Componentì— í¬í•¨ë˜ë©°, Context APIë¥¼ í†µí•´ statesì™€ handlersë¥¼ Children ì»´í¬ë„ŒíŠ¸ê°„ì— ê³µìœ í•œë‹¤.
  ![img](https://velog.velcdn.com/images%2Fdnr6054%2Fpost%2F32759671-cc09-4416-9520-a35135ac43f5%2FScreen%20Shot%202021-05-25%20at%203.51.53%20PM.png)

#### ë‹¨ì 

- ë„ˆë¬´ UI ììœ ë„ê°€ í¬ë‹¤. ì´ë ‡ê²Œ í° ììœ ë„ëŠ” ì˜ˆìƒì¹˜ ëª»í•œ í–‰ë™ì„ ìœ ë°œí•  ìˆ˜ë„ ìˆë‹¤. ìœ ì €ê°€ ì–´ë–»ê²Œ ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ì— ì˜ì¡´í•œë‹¤ë©´, ì´ë ‡ê²Œ í° ììœ ë„ë¥¼ ì£¼ë©´ ì•ˆëœë‹¤.
  ![img](https://velog.velcdn.com/images%2Fdnr6054%2Fpost%2F875bf3eb-223f-49fb-9452-c3cc9e74c3d3%2Fimage.png)
- JSXê°€ ë„ˆë¬´ ë¬´ê²ë‹¤. ì´ íŒ¨í„´ì„ ì ìš©í•˜ê²Œ ë˜ë©´ JSXì˜ ì—´ ê°œìˆ˜ë¥¼ ë„ˆë¬´ ëŠ˜ë¦´ ìˆ˜ ìˆë‹¤. íŠ¹íˆ EsLintë‚˜ Prettierë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë§ì´ë‹¤.
  ì´ê±´ ì‘ì€ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” í° ë¬¸ì œê°€ ì•„ë‹Œ ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ í° ê·¸ë¦¼ì„ ë³´ê²Œ ëœë‹¤ë©´ ì—„ì²­ë‚œ ì°¨ì´ë¥¼ ëŠë‚„ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.
  ![img](https://velog.velcdn.com/images%2Fdnr6054%2Fpost%2Fb096f5cc-83c6-42c1-baff-32d056117b35%2Fimage.png)

#### Criteria

- Inversion of Control : â˜…â˜†â˜†â˜†
- Integration complexity : â˜…â˜†â˜†â˜†

#### ì´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

- [React Bootstrap](https://react-bootstrap.github.io/components/dropdowns/)
- [Reach UI](https://reach.tech/accordion/)

------

### Control Props Pattern

ì´ íŒ¨í„´ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ controlled componentë¡œ ë°”ê¿”ì¤€ë‹¤. ì™¸ë¶€ ìƒíƒœëŠ” single source of truth, SSOTë¡œ ì‚¬ìš©ë˜ì–´ ìœ ì €ë¡œ í•˜ì—¬ê¸ˆ ì»¤ìŠ¤í…€ ë¡œì§ì„ ì‚½ì…í•  ìˆ˜ ìˆê²Œë” í•œë‹¤.

> - Controlled componentë€ componentì˜ ìƒíƒœë¥¼ ì œì–´í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì˜ë¯¸í•œë‹¤.
> - SSOTë€ ë‹¨ì¼ ì§„ì‹¤ ê³µê¸‰ì›ì´ë¼ê³ ë„ ë²ˆì—­ë˜ëŠ”ë°, ì´ëŠ” ëª¨ë“  ë°ì´í„° ìš”ì†Œë¥¼ í•œ ê³³ì—ì„œë§Œ ì œì–´, í¸ì§‘í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.

#### ì˜ˆì œ

```javascript
import React, { useState } from "react";
import { Counter } from "./Counter";

function Usage() {
  const [count, setCount] = useState(0);

  const handleChangeCounter = (newCount) => {
    setCount(newCount);
  };
  return (
    <Counter value={count} onChange={handleChangeCounter}>
      <Counter.Decrement icon={"minus"} />
      <Counter.Label>Counter</Counter.Label>
      <Counter.Count max={10} />
      <Counter.Increment icon={"plus"} />
    </Counter>
  );
}

export { Usage };
```

#### ì¥ì 

- ë” ë§ì€ í†µì œê¶Œì„ ì¤€ë‹¤. ë©”ì¸ stateê°€ ì»´í¬ë„ŒíŠ¸ ë°”ê¹¥ì— ë“œëŸ¬ë‚˜ìˆê¸° ë•Œë¬¸ì— ìœ ì €ëŠ” ì§ì ‘ì ìœ¼ë¡œ ê·¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆê²Œ ëœë‹¤.
  ![img](https://velog.velcdn.com/images%2Fdnr6054%2Fpost%2Fc596c511-5050-40b0-a27f-1d0d7478a899%2Fimage.png)

#### ë‹¨ì 

- ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë³µì¡í•˜ë‹¤. ì´ì „ì—ëŠ” JSXì—ë§Œ êµ¬í˜„í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë™ì‘í•˜ê²Œë” í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í–ˆì§€ë§Œ, ì´ì œëŠ” JSX, useState, handleChange ì„¸ ê³³ ëª¨ë‘ë¥¼ ì²´í¬í•´ì•¼ í•œë‹¤.
  ![img](https://velog.velcdn.com/images%2Fdnr6054%2Fpost%2Fb5b1f8dc-719a-456e-9af3-f08bad927ea1%2Fimage.png)

#### Criteria

- Inversion of Control: â˜…â˜…â˜†â˜†
- Integration complexity: â˜…â˜†â˜†â˜†

#### ì´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

- [Material UI](https://material-ui.com/components/rating/#rating)

------

### Custom Hook Pattern

ì¢€ ë” IoCì— ì§‘ì¤‘í•´ë³´ì. ë©”ì¸ ë¡œì§ì€ ì´ì œ custom hookìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤. hookì€ State, Handlerì™€ ê°™ì€ ë‚´ë¶€ ë¡œì§ë“¤ì„ í¬í•¨í•˜ë©° ìœ ì €ì—ê²Œ ë” ë§ì€ í†µì œê¶Œì„ ì¤€ë‹¤.

#### ì˜ˆì œ

```javascript
import React from "react";
import { Counter } from "./Counter";
import { useCounter } from "./useCounter";

function Usage() {
  const { count, handleIncrement, handleDecrement } = useCounter(0);
  const MAX_COUNT = 10;

  const handleClickIncrement = () => {
    //Put your custom logic
    if (count < MAX_COUNT) {
      handleIncrement();
    }
  };

  return (
    <>
      <Counter value={count}>
        <Counter.Decrement
          icon={"minus"}
          onClick={handleDecrement}
          disabled={count === 0}
        />
        <Counter.Label>Counter</Counter.Label>
        <Counter.Count />
        <Counter.Increment
          icon={"plus"}
          onClick={handleClickIncrement}
          disabled={count === MAX_COUNT}
        />
      </Counter>
      <button onClick={handleClickIncrement} disabled={count === MAX_COUNT}>
        Custom increment btn 1
      </button>
    </>
  );
}

export { Usage };
```

#### ì¥ì 

- ë”ë”ìš± ë§ì€ ì œì–´ê¶Œì„ ì¤€ë‹¤. ìœ ì €ëŠ” ì´ì œ hookê³¼ JSX ì‚¬ì´ì— ìì‹ ë§Œì˜ ë¡œì§ì„ ë„£ì„ ìˆ˜ ìˆë‹¤.
  ![img](https://velog.velcdn.com/images%2Fdnr6054%2Fpost%2F3e78493b-9340-4217-8fd8-f23139f817da%2Fimage.png)

#### ë‹¨ì 

- ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ë³µì¡í•˜ë‹¤. ë¡œì§ì´ ë Œë”ë§í•˜ëŠ” ë¶€ë¶„ê³¼ ë¶„ë¦¬ë˜ì–´ ìˆìœ¼ë©°, ìœ ì €ëŠ” ë‘˜ì„ ì´ì–´ì¤˜ì•¼ í•œë‹¤. ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì•Œì•„ì•¼í•  í•„ìš”ê°€ ìˆë‹¤.

#### Criteria

- Inversion of Control: â˜…â˜…â˜†â˜†
- Integration complexity: â˜…â˜…â˜†â˜†

#### ì´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

- [React table](https://react-table.tanstack.com/docs/examples/basic)
- [React hook form](https://react-hook-form.com/api/)

------

### Props Getters Pattern

Custom hook patternì´ ì—„ì²­ë‚œ í†µì œê¶Œì„ ì£¼ê¸´ í•˜ì§€ë§Œ, ê·¸ë§Œí¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ì´ìš©í•˜ê¸° ì–´ë µê²Œ ë§Œë“ ë‹¤. Props Getters Patternì€ ì´ëŸ° ë³µì¡ë„ë¥¼ ê°ì‹¸ê¸° ìœ„í•´ ì‹œë„í•œë‹¤. native propsë¥¼ ë…¸ì¶œí•˜ëŠ” ëŒ€ì‹  props gettersì˜ ëª©ë¡ì„ ì œê³µí•œë‹¤. ì´ëŠ” ìœ ì €ê°€ ì˜¬ë°”ë¥¸ JSXìš”ì†Œì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ [ì˜ë¯¸ìˆëŠ” ì´ë¦„](https://velog.io/@dnr6054/Clean-Code-2-ì˜ë¯¸-ìˆëŠ”-ì´ë¦„)ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

#### ì˜ˆì œ

```javascript
import React from "react";
import { Counter } from "./Counter";
import { useCounter } from "./useCounter";

const MAX_COUNT = 10;

function Usage() {
  const {
    count,
    getCounterProps,
    getIncrementProps,
    getDecrementProps
  } = useCounter({
    initial: 0,
    max: MAX_COUNT
  });

  const handleBtn1Clicked = () => {
    console.log("btn 1 clicked");
  };

  return (
    <>
      <Counter {...getCounterProps()}>
        <Counter.Decrement icon={"minus"} {...getDecrementProps()} />
        <Counter.Label>Counter</Counter.Label>
        <Counter.Count />
        <Counter.Increment icon={"plus"} {...getIncrementProps()} />
      </Counter>
      <button {...getIncrementProps({ onClick: handleBtn1Clicked })}>
        Custom increment btn 1
      </button>
      <button {...getIncrementProps({ disabled: count > MAX_COUNT - 2 })}>
        Custom increment btn 2
      </button>
    </>
  );
}

export { Usage };
```

#### ì¥ì 

- ì‚¬ìš©í•˜ê¸° ì‰½ë‹¤. ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‰¬ìš´ ë°©ë²•ì„ ì œê³µí•˜ë©´ì„œ ë³µì¡í•œ ë¶€ë¶„ì€ ê°€ë ¤ì ¸ ìˆë‹¤. ìœ ì €ëŠ” ì˜¬ë°”ë¥¸ getterë¥¼ ê·¸ì— ë§ëŠ” JSX ìš”ì†Œì— ì‚¬ìš©í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤.
  ![img](https://velog.velcdn.com/images%2Fdnr6054%2Fpost%2F5be7d498-97f2-4c63-8580-980fd0ac2ab4%2Fimage.png)
- ìœ ì—°í•˜ë‹¤. ìœ ì €ëŠ” ì›í•œë‹¤ë©´ propsë¥¼ ì˜¤ë²„ë¡œë“œí•  ìˆ˜ ìˆë‹¤.
  ![img](https://velog.velcdn.com/images%2Fdnr6054%2Fpost%2F654998de-57c4-4e52-a867-10021d4bc31a%2Fimage.png)

#### ë‹¨ì 

- ì˜ ë³´ì´ì§€ê°€ ì•ŠëŠ”ë‹¤. ë¬¼ë¡  gettersë¥¼ í†µí•œ ì¶”ìƒí™”ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ì–´ì£¼ì§€ë§Œ ê²°êµ­ ë” ë¶ˆíˆ¬ëª…í•˜ê³  **ë§ˆë²•**ì²˜ëŸ¼ ë§Œë“¤ì–´ì¤€ë‹¤. ì •í™•í•˜ê²Œ ì˜¤ë²„ë¼ì´ë“œí•˜ê¸° ìœ„í•´ì„œëŠ” gettersì— ì˜í•´ ì œê³µëœ prop ë¦¬ìŠ¤íŠ¸ì™€ í•˜ë‚˜ê°€ ë°”ë€” ë•Œ ìƒê¸°ëŠ” ë‚´ë¶€ì—ì„œì˜ ë¡œì§ ë³€í™”ë¥¼ ì•Œì•„ì•¼ë§Œ í•œë‹¤.

#### Criteria

- Inversion of Control: â˜…â˜…â˜…â˜†
- Integration complexity: â˜…â˜…â˜…â˜†

#### ì´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

- [React table](https://react-table.tanstack.com/docs/examples/basic)
- [Downshift](https://github.com/downshift-js/downshift#usage)

------

### State reducer pattern

IoCì— ìˆì–´ì„œëŠ” ìµœê³ ì˜ íŒ¨í„´ì´ë‹¤. ì´ íŒ¨í„´ì€ ìœ ì €ì—ê²Œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‚´ë¶€ì ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆëŠ” ë” ë°œì „ëœ ë°©ë²•ì„ ì œì‹œí•œë‹¤.
ì½”ë“œëŠ” Custom Hook Patternê³¼ ë¹„ìŠ·í•´ë³´ì´ì§€ë§Œ, ë” ë‚˜ì•„ê°€ ìœ ì €ê°€ Hookì„ í†µí•´ ì „ë‹¬ëœ reducerë¥¼ ì •ì˜í•œë‹¤. ì´ reducerëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ì˜ ëª¨ë“  actionë“¤ì„ ì˜¤ë²„ë¡œë“œí•œë‹¤.

#### ì˜ˆì œ

```javascript
import React from "react";
import { Counter } from "./Counter";
import { useCounter } from "./useCounter";

const MAX_COUNT = 10;
function Usage() {
  const reducer = (state, action) => {
    switch (action.type) {
      case "decrement":
        return {
          count: Math.max(0, state.count - 2) //The decrement delta was changed for 2 (Default is 1)
        };
      default:
        return useCounter.reducer(state, action);
    }
  };

  const { count, handleDecrement, handleIncrement } = useCounter(
    { initial: 0, max: 10 },
    reducer
  );

  return (
    <>
      <Counter value={count}>
        <Counter.Decrement icon={"minus"} onClick={handleDecrement} />
        <Counter.Label>Counter</Counter.Label>
        <Counter.Count />
        <Counter.Increment icon={"plus"} onClick={handleIncrement} />
      </Counter>
      <button onClick={handleIncrement} disabled={count === MAX_COUNT}>
        Custom increment btn 1
      </button>
    </>
  );
```

> ì´ ì˜ˆì—ì„œëŠ” Custom hook Patternì— State reducer patternì„ ì ìš©í–ˆì§€ë§Œ ìš°ë¦¬ëŠ” ì´ë¥¼ Compound components patternì— ì ìš©í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.

#### ì¥ì 

- ë” ë§ì€ í†µì œê¶Œì„ ì¤€ë‹¤. ì—„ì²­ë‚˜ê²Œ ë³µì¡í•œ ê²½ìš°ì—ì„œ state reducerë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ìœ ì €ì—ê²Œ í†µì œê¶Œì„ ë‚¨ê²¨ì£¼ëŠ” ìµœê³ ì˜ ë°©ë²•ì´ë‹¤. ëª¨ë“  ë‚´ë¶€ actionë“¤ì€ ì´ì œ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ê°€ëŠ¥í•˜ë©° ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ìˆë‹¤.
  ![img](https://velog.velcdn.com/images%2Fdnr6054%2Fpost%2F0f0c222a-5171-491a-8410-7de686b1a876%2Fimage.png)

#### ë‹¨ì 

- ì´ íŒ¨í„´ì€ í™•ì‹¤íˆ ìœ ì €ì™€ ê°œë°œì ëª¨ë‘ì—ê²Œ ê°€ì¥ ë³µì¡í•œ íŒ¨í„´ì´ë‹¤.
- reducerì˜ ì•¡ì…˜ì´ ë°”ë€” ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ ë¡œì§ì— ëŒ€í•œ ê¹Šì€ ì´í•´ê°€ í•„ìš”í•˜ë‹¤.

#### Criteria

- Inversion of Control: â˜…â˜…â˜…â˜…
- Integration complexity: â˜…â˜…â˜…â˜…

#### ì´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

- [Downshift](https://github.com/downshift-js/downshift#usage)

------

### ê²°ë¡ ì ìœ¼ë¡œ,

ì´ 5ê°œì˜ íŒ¨í„´ì„ ë³´ë©´ì„œ ìš°ë¦¬ëŠ” IoCë¥¼ ì¡°ì ˆí•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì„ ì•Œ ìˆ˜ ìˆë‹¤. ì´ë“¤ì€ ìš°ë¦¬ë¡œ í•˜ì—¬ê¸ˆ ë” ìœ ì—°í•˜ê³  ìœµí†µì„±ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë§Œë“œëŠ” ê°•ë ¥í•œ ë°©ë²•ì„ ì œê³µí•œë‹¤.

ê·¸ëŸ¬ë‚˜ ìš°ë¦¬ëŠ” ì´ ìœ ëª…í•œ ê²©ì–¸ì„ ì•Œê³  ìˆë‹¤.

> í° í˜ì—ëŠ” í° ì±…ì„ì´ ë”°ë¥¸ë‹¤

ì»´í¬ë„ŒíŠ¸ì—ê²Œ ë” ë§ì€ ì œì–´ê¶Œì„ ì£¼ê²Œ ëœë‹¤ë©´ ì´ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ **plug and play**ë¼ëŠ” ì‚¬ê³ ë°©ì‹ìœ¼ë¡œë¶€í„° ë©€ì–´ì§€ê²Œ ë§Œë“ ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì˜¬ë°”ë¥¸ íŒ¨í„´ì„ ì„ íƒí•˜ëŠ” ê²ƒì€ ê°œë°œìë¡œì„œì˜ ì±…ì„ì´ ëœë‹¤.

ì´ ë¬¸ì œì— ë„ì›€ì´ ë˜ê¸° ìœ„í•´ ê° íŒ¨í„´ì„ Integration complexityì™€ Inversion of controlì— ëŒ€í•´ ì •ë¦¬í•œ ê·¸ë¦¼ì„ ì²¨ë¶€í•œë‹¤.
![img](https://velog.velcdn.com/images%2Fdnr6054%2Fpost%2F004f12d8-646b-49ab-ae17-d0661ea78c40%2Fimage.png)

<br>

<br>

#### ì°¸ê³ ë§í¬: [ìœ ìš©í•œ ë¦¬ì•¡íŠ¸ íŒ¨í„´ 5ê°€ì§€ (velog.io)](https://velog.io/@dnr6054/ìœ ìš©í•œ-ë¦¬ì•¡íŠ¸-íŒ¨í„´-5ê°€ì§€)

<br>